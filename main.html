<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>GF Day üíå</title>
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: 'Pacifico', cursive;
      background: linear-gradient(#ffeef4, #ffc2d1);
      height: 100vh;
      overflow: hidden;
      position: relative;
      text-align: center;
    }

    #hearts {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 1;
    }

    .heart {
      position: absolute;
      font-size: 20px;
      animation: floatHeart 6s linear infinite;
    }

    @keyframes floatHeart {
      0% { transform: translateY(0) scale(1); opacity: 1; }
      100% { transform: translateY(-100vh) scale(1.5); opacity: 0; }
    }

    #music-control {
      position: fixed;
      top: 20px;
      right: 20px;
      background: #ff69b4;
      color: white;
      padding: 10px 20px;
      border-radius: 20px;
      font-family: Arial, sans-serif;
      cursor: pointer;
      z-index: 2;
      box-shadow: 0 0 10px #ffb6c1;
    }

    #song-title {
      font-size: 0.9em;
      margin-top: 4px;
    }

    .photo-frame {
      margin-top: 40px;
      position: relative;
      display: inline-block;
      z-index: 2;
    }

    .photo-frame img {
      width: 180px;
      border: 4px solid white;
      border-radius: 10px;
      box-shadow: 0 8px 15px rgba(0,0,0,0.2);
    }

    .polaroid {
      position: absolute;
      width: 130px;
      aspect-ratio: 1/1;
      background: white;
      padding: 8px;
      border-radius: 5px;
      box-shadow: 2px 4px 10px rgba(0,0,0,0.3);
      transform: rotate(var(--rotate));
      z-index: 1;
    }

    .polaroid img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      border-radius: 3px;
      display: block;
    }

    .decoration {
      position: absolute;
      z-index: 0;
      font-size: 24px;
      opacity: 0.7;
      animation: floatDecor 4s ease-in-out infinite;
    }

    @keyframes floatDecor {
      0% { transform: translateY(0) rotate(0deg); }
      50% { transform: translateY(-5px) rotate(5deg); }
      100% { transform: translateY(0) rotate(0deg); }
    }

    .envelope-area {
      margin-top: 20px;
      z-index: 2;
    }

    .envelope {
      margin-top: 220px;
      width: 230px;
      animation: bounce 2s infinite ease-in-out;
      transition: all 0.5s ease-in-out;
    }

    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }

    .open-btn, .close-btn {
      margin-top: 20px;
      padding: 12px 25px;
      font-size: 1em;
      background-color: #ff69b4;
      color: white;
      border: none;
      border-radius: 20px;
      cursor: pointer;
      box-shadow: 0 0 10px #ffb6c1;
      transition: transform 0.2s;
    }

    .open-btn:hover, .close-btn:hover {
      transform: scale(1.05);
      background-color: #ff1493;
    }

    .message-box {
      position:relative;
      max-width: 700px;
      max-height: 65vh;
      margin: 20px auto;
      padding: 30px;
      background: #fff0f5;
      border-radius: 15px;
      box-shadow: 0 0 20px rgba(0,0,0,0.2);
      color: #333;
      font-family: Arial, sans-serif;
      font-size: 1.05em;
      line-height: 1.6;
      overflow-y: auto;
      display: none;
      animation: fadeIn 1s ease forwards;
      z-index: 10;
    }

    .typing-text {
      white-space: pre-line;
      overflow: hidden;
      display: inline-block;
      font-family: Arial, sans-serif;
      font-size: 1.05em;
      line-height: 1.6;
      text-align: left;
      position: relative;
    }

    #typing-cursor {
      display: inline-block;
     width: 1px;
     animation: blink 0.75s step-end infinite;
     color: #333;
     margin-left: 1px;
    }

    @keyframes blink {
      from, to { border-color: transparent; }
      50% { border-color: #333; }
    }

    @media (max-width: 768px) {
      .polaroid { width: 70px; padding: 6px; }
      .decoration { font-size: 18px; }
      .photo-frame img { width: 130px; }
      .envelope { width: 130px; }
      .open-btn, .close-btn { font-size: 0.85em; padding: 10px 18px; }
      .message-box { max-width: 90vw; margin: 20px auto; font-size: 0.95em; }
    }

    @keyframes closeEnvelopeAnim {
      0% { opacity: 1; transform: scale(1); }
      100% { opacity: 0; transform: scale(0.8); }
    }

    .closing {
      animation: closeEnvelopeAnim 0.5s forwards;
  }

    @keyframes bounceOnce {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-10px); }
    }

    .bounce-restart {
  animation: bounceOnce 1s ease-in-out;
  }

  @keyframes zoomIn {
  from { transform: scale(0.8); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}

.opening {
  animation: zoomIn 0.6s ease-out;
}

.love-particle {
  position: absolute;
  font-size: 16px;
  color: #ff69b4;
  animation: floatLove 1.2s ease-out forwards;
  pointer-events: none;
  z-index: 99;
}

@keyframes floatLove {
  0% { opacity: 1; transform: translateY(0) scale(1); }
  100% { opacity: 0; transform: translateY(-60px) scale(1.5); }
}

.blur {
  filter: blur(3px);
  transition: filter 0.4s ease;
}


  </style>
</head>
<body>
  <div id="music-control" onclick="toggleMusic()">
    ‚ñ∂Ô∏è Putar Lagu
    <div id="song-title">The 1975 - About You</div>
  </div>
  <audio id="bgMusic" loop>
    <source src="The 1975 - About You (Official).mp3" type="audio/mpeg">

    <audio id="popSound">
  <source src="pop.mp3" type="audio/mpeg">
</audio>

  </audio>

  <div class="polaroid" style="top: 19%; left: 11%; --rotate: -5deg;">
    <img src="foto/IMG-20250722-WA0025.jpg" alt="Foto 1">
  </div>
  <div class="polaroid" style="top: 40%; right: 8%; --rotate: 6deg;">
    <img src="foto/IMG-20250710-WA0019.jpg" alt="Foto 2">
  </div>
  <div class="polaroid" style="bottom: 15%; left: 14%; --rotate: -8deg;">
    <img src="foto/IMG-20250703-WA0066.jpg" alt="Foto 3">
  </div>
  <div class="polaroid" style="bottom: 15%; right: 12%; --rotate: 7deg;">
    <img src="foto/IMG-20250612-WA0099.jpg" alt="Foto 4">
  </div>
    <div class="polaroid" style="top: 42%; left: 9%; --rotate: -4deg;">
    <img src="foto/IMG-20250131-WA0031.jpg" alt="Foto 5">
  </div>
  <div class="polaroid" style="top: 18%; right: 13%; --rotate: 6deg;">
    <img src="foto/IMG-20250326-WA0025.jpg" alt="Foto 6">
  </div>

  <div class="decoration" style="top: 8%; left: 45%">üíñ</div>
  <div class="decoration" style="top: 30%; right: 40%">üéÄ</div>
  <div class="decoration" style="bottom: 20%; left: 40%">üåü</div>
  <div class="decoration" style="bottom: 10%; right: 35%">üí´</div>

  <div id="hearts"></div>

  <div class="envelope-area" id="envelope-area">
    <img src="https://media.tenor.com/ELLRYPPAh9IAAAAi/valentines-day-valentine.gif" alt="Amplop" class="envelope" id="envelope-img">
    <br>
    <button class="open-btn" onclick="openEnvelope()">open it :3</button>
  </div>

  <div class="message-box" id="message-box">
    <div class="typing-text">
  <span id="typed-text"></span><span id="typing-cursor">|</span>
</div>
    <br><br>
    <button class="close-btn" onclick="closeEnvelope()">close</button>
  </div>

  <script>
    let playing = false;
    let typingIndex = 0;
    let typingTimer;

    function toggleMusic() {
      const music = document.getElementById('bgMusic');
      const control = document.getElementById('music-control');
      if (playing) {
        music.pause();
        control.innerHTML = '‚ñ∂Ô∏è Putar Lagu<div id="song-title">The 1975 - About You</div>';
      } else {
        music.play();
        control.innerHTML = '‚è∏Ô∏è Lagu Diputar<div id="song-title">The 1975 - About You</div>';
      }
      playing = !playing;
    }

    function openEnvelope() {
      document.querySelectorAll(".polaroid, #music-control").forEach(el => {
  el.classList.add("blur");
});

      document.getElementById("envelope-area").style.display = "none";
      document.getElementById("message-box").style.display = "block";
      document.getElementById("message-box").classList.add("opening");
setTimeout(() => {
  document.getElementById("message-box").classList.remove("opening");
}, 600);


      const message = `alooo sayang üíï,

happy girlfriend day nazihah sayangku, hari spesial ini aku persembahkan hanya untuk kamu yang selalu ada di setiap langkahku. hubungan yang sudah hampir setahun ini bukan waktu yang sebentar, tapi setiap harinya bersamamu selalu terasa istimewa. terima kasih sudah menjadi sosok yang selalu mengerti, sabar, dan mencintai aku dengan tulus. semoga hubungan kita selalu dipenuhi tawa, kehangatan, dan kenangan indah yang tak terlupakan. tetap jadi kamu yang manis, lucu, dan selalu bikin aku jatuh cinta setiap hari. klau dibilangin harus mendengar, jangan bandel. aku sayang kamu, hari ini, besok, dan seterusnyaü§çü§çü§ç

with all my love,
apyan`;

      clearTimeout(typingTimer);
      typingIndex = 0;
      document.getElementById("typed-text").innerHTML = '';
      typeText(message, "typed-text", 30);
    }

    function closeEnvelope() {
      document.querySelectorAll(".polaroid, #music-control").forEach(el => {
  el.classList.remove("blur");
});
     const messageBox = document.getElementById("message-box");
     const envelope = document.getElementById("envelope-img");
     const rect = envelope.getBoundingClientRect();
     const centerX = rect.left + rect.width / 2 + window.scrollX;
     const centerY = rect.top + rect.height / 2 + window.scrollY;
     document.getElementById('popSound').play();

     burstHearts(centerX, centerY);

  messageBox.classList.add("closing");

  setTimeout(() => {
    messageBox.style.display = "none";
    messageBox.classList.remove("closing");
    document.getElementById("typed-text").innerHTML = "";

    document.getElementById("envelope-area").style.display = "block";

    envelope.classList.remove("bounce-restart");
    void envelope.offsetWidth;
    envelope.classList.add("bounce-restart");
  }, 500);
}
    
    function typeText(text, elementId, speed) {
  const target = document.getElementById(elementId);
  const cursor = document.getElementById("typing-cursor");
  typingIndex = 0;

  function type() {
    if (typingIndex < text.length) {
      target.textContent += text.charAt(typingIndex);
      typingIndex++;

      // Pindahkan kursor setelah karakter terakhir
      // (karena kita pakai inline-block, dia otomatis ikut)
      setTimeout(type, speed);
    }
  }

  // Mulai ketik
  target.textContent = '';
  type();
}

    const heartsContainer = document.getElementById('hearts');
    setInterval(() => {
      const heart = document.createElement('div');
      heart.classList.add('heart');
      heart.innerText = '‚ô•';
      heart.style.left = Math.random() * 100 + 'vw';
      heart.style.top = '100vh';
      heart.style.fontSize = (Math.random() * 20 + 10) + 'px';
      heart.style.color = ['#ff69b4', '#ff1493', '#ffb6c1'][Math.floor(Math.random() * 3)];
      heartsContainer.appendChild(heart);
      setTimeout(() => heart.remove(), 6000);
    }, 300);

    function burstHearts(x, y) {
  for (let i = 0; i < 10; i++) {
    const heart = document.createElement("div");
    heart.classList.add("love-particle");
    heart.innerText = "‚ô•";
    heart.style.left = x + (Math.random() * 40 - 20) + "px";
    heart.style.top = y + (Math.random() * 20 - 10) + "px";
    heart.style.fontSize = (Math.random() * 10 + 12) + "px";
    heart.style.color = ['#ff69b4', '#ff1493', '#ffb6c1'][Math.floor(Math.random() * 3)];
    document.body.appendChild(heart);
    setTimeout(() => heart.remove(), 1200);
  }
}

  </script>
</body>
</html>